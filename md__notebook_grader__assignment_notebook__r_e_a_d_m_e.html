<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GenJSONnotebookGrader: AssignmentNotebook</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GenJSONnotebookGrader<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Autograder for notebooks in JSON format</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">AssignmentNotebook </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This repository contains the module that allows you to read / extract / create assignment notebooks from master notebooks</p>
<p >We have a few classes that are interesting for the user</p>
<ul>
<li>All classes that start with IDS are derivative classes specifically coded for the Intro to Datascience and classes that start with DB are specifically coded for Databricks with support for python and scala.</li>
<li>All DB-classes are derivative classes specifically coded for Databricks notebooks</li>
<li>The classes that contains the name <code>Book</code> is to generate cleaned notebooks for <code>jupyter-book</code></li>
</ul>
<p >however</p>
<ul>
<li>DB-classes do not currently have support for the Databricks equivalents of IDSExamNotebook, IDSBookNotebook and IDSBook.</li>
<li>After a big code-refactoring, IDSExamNotebook, IDSBookNotebook and IDSBook are not tested properly.</li>
</ul>
<h1><a class="anchor" id="autotoc_md65"></a>
Usage guide</h1>
<h2><a class="anchor" id="autotoc_md66"></a>
Creating the book</h2>
<ul>
<li>There is currently no support for this in databricks, but these are not needed for the general process of maintaining grading of student assignments. <div class="fragment"><div class="line"><span class="keyword">from</span> AssignmentNotebook <span class="keyword">import</span> IDSBook</div>
<div class="line"> </div>
<div class="line"><span class="comment"># This loads all the notebooks</span></div>
<div class="line">book = IDSBook()</div>
<div class="line"><span class="comment"># This bookifyes the notebooks and produces and output into</span></div>
<div class="line"><span class="comment"># the folder specified in config.json</span></div>
<div class="line">book.to_nb()</div>
<div class="line"><span class="comment"># The idea now is to run the</span></div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="autotoc_md67"></a>
Specific classes for Databricks and Intro to Data Science AssignmentNotebooks</h1>
<h2><a class="anchor" id="autotoc_md68"></a>
class DBCourse</h2>
<div class="fragment"><div class="line">Wrapper for the entire course. All details are in DBCourseDetails.</div>
<div class="line"> </div>
<div class="line">Parameters</div>
<div class="line">----------</div>
<div class="line">courseDetails : DBSCourseDetails</div>
<div class="line">lectureNotebooks : dict(&#39;notebook_filename&#39; : DBLectureNotebook)</div>
<div class="line">    a dictionary of key,value being notebook filename and an DBLectureNotebook</div>
<div class="line">assignments : dict(&#39;assignment number&#39; : DBAssignmentNotebook)</div>
<div class="line">    a dictionary of key,value being assingment number and DBAssignmentNotebook</div>
<div class="line"> </div>
<div class="line">Methods</div>
<div class="line">-------</div>
<div class="line">makeAssignmentNotebook(assignment_number,notebook_type=&#39;problem_solution_TEST&#39;)</div>
<div class="line">    creates the AssignmentNotebook related to assignment_number of the specified</div>
<div class="line">    notebook_type</div>
<div class="line">to_nb()</div>
<div class="line">    makes a lecture notebook out of all notebooks described in DBCourseDetails.</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md69"></a>
class DB- and IDSCourseDetails(CourseDetails)</h2>
<div class="fragment"><div class="line">The specific details regarding the Intro to Data Science.</div>
<div class="line">All the specifics are to be put inside the config.json inside the package</div>
<div class="line"> </div>
<div class="line">What needs to be specified in the configNotebooks.json are the following</div>
<div class="line">{</div>
<div class="line">  &quot;master_notebooks&quot;:[&quot;Example_databricks_1&quot;],</div>
<div class="line">  &quot;notebook_file_extension&quot;:&quot;db&quot;,</div>
<div class="line">  &quot;notebook_folder&quot;:&quot;../master/db&quot;,</div>
<div class="line">  &quot;target_notebook_folder&quot;:&quot;lectures&quot;,</div>
<div class="line">  &quot;target_notebook_book_folder&quot;:&quot;Notebooks&quot;,</div>
<div class="line">  &quot;assignments&quot;:[1],</div>
<div class="line">  &quot;CourseID&quot;:&quot;1MS041&quot;,</div>
<div class="line">  &quot;CourseName&quot;:&quot;Introduction to Data Science: A Comp-Math-Stat Approach&quot;,</div>
<div class="line">  &quot;CourseInstance&quot;:&quot;2020&quot;</div>
<div class="line">}</div>
</div><!-- fragment --> <blockquote class="doxtable">
<p >&zwj;To generate several assignments at the same time, just add the master notebooks and assignment-number to the config. </p>
</blockquote>
<p>"master_notebooks":["Example_databricks_1","Example_databricks_2"] "assignments":[1,2] </p><blockquote class="doxtable">
<p >&zwj;For the key <code>master_notebooks</code>, it is a list of names of master notebooks <b>WITHOUT</b> any file extension. For the key <code>notebook_file_extension</code>, it is a file extension of master notebooks. For databricks notebooks, specify <code>db</code>,and for Jupyter notebooks, specify <code>jp</code>. For the Key <code>notebook_folder</code>, it is a path to a directory that stores master notebooks. For databricks notebooks, they are stored in <code>master/db</code>, and for Jupyter notebooks, they are stored in <code>master/jp</code>. Different directory names or paths are also possible, if necessary. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md70"></a>
Specific classes creating a jupyter book for Intro to Data Science</h1>
<h2><a class="anchor" id="autotoc_md71"></a>
class IDSBookNotebook(CourseNotebook)</h2>
<p >Specifically the method <code>_bookify</code> which is contains some code to make the notebooks better suited for jupyter-book. This has no support for databricks yet, but is not needed in the process of maintaining the assignment system.</p><ul>
<li>Truncates the output to a few lines</li>
<li>Truncates error messages by truncating the Traceback</li>
</ul>
<h2><a class="anchor" id="autotoc_md72"></a>
class IDSBook()</h2>
<p >Pretty much the same as <code>IDSCourse</code> but for a jupyter book. No support for Databricks but is again not needed in the process of maintaining the assignment system.</p>
<h1><a class="anchor" id="autotoc_md73"></a>
Generic classes for AssignmentNotebook</h1>
<h2><a class="anchor" id="autotoc_md74"></a>
class CourseNotebook</h2>
<div class="fragment"><div class="line">Represents a course notebooks</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  Attributes</div>
<div class="line">  ----------</div>
<div class="line">  courseDetails : CourseDetails</div>
<div class="line">  header : str</div>
<div class="line">      the header string, to be put as the first cell when outputting</div>
<div class="line">      as a notebook</div>
<div class="line">  assignmentNumbers : [int]</div>
<div class="line">      If there are assignment problems in this notebook, the assignment</div>
<div class="line">      number/numbers will be stored here.</div>
<div class="line">  assignmentCells : [nbformat cell]</div>
<div class="line">      these are all the assignment related cells contained in this notebook</div>
<div class="line">  notebook : nbformat.NotebookNode</div>
<div class="line">      the raw notebook, if loaded from file</div>
<div class="line">  nb_filename : str</div>
<div class="line">      the filename of the raw notebook</div>
<div class="line"> </div>
<div class="line">  Methods</div>
<div class="line">  -------</div>
<div class="line">  getAssignments(assignmentNumber=0)</div>
<div class="line">      returns the problems found in this courseNotebook related to</div>
<div class="line">      assignmentNumber</div>
<div class="line"> </div>
<div class="line">  toLectureNotebook(skipAssignments=False)</div>
<div class="line">      returns a nbformat.NotebookNode with the student ready notebook.</div>
<div class="line">      skipAssignments is self explanatory.</div>
<div class="line"> </div>
<div class="line">  to_nb(target_filename,skipAssignments=False)</div>
<div class="line">      writes the notebook to file, it writes the same as</div>
<div class="line">      toLectureNotebook(skipAssignments) to `target_filename`</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md75"></a>
class AssignmentNotebook(CourseNotebook)</h2>
<div class="fragment"><div class="line">Represents an assignment notebook</div>
<div class="line"> </div>
<div class="line">    Parameters</div>
<div class="line">    ----------</div>
<div class="line">    assignmentNumber : int</div>
<div class="line">        The assignment number of this notebook</div>
<div class="line">    courseNotebooks : [CourseNotebook]</div>
<div class="line">        All the course notebooks that contains the assignments</div>
<div class="line">    assignments : [Assignment]</div>
<div class="line">        all the assignments in this assignment notebook</div>
<div class="line"> </div>
<div class="line">    Methods</div>
<div class="line">    -------</div>
<div class="line">    to_nb(target_filename,notebook_type=&#39;problem_solution_TEST&#39;)</div>
<div class="line">        Creates a notebook and writes it to file.</div>
<div class="line">    to_notebook(notebook_type=&#39;problem_solution_TEST&#39;)</div>
<div class="line">        load a notebook file and turn it into a JSON-format</div>
<div class="line">    __add__(assignmentNotebook)</div>
<div class="line">        assignmentNotebook1 + assignmentNotebook2 yields a new AssignmentNotebook that has the entire</div>
<div class="line">        assignmentNotebook1 + the TESTS from assignmentNotebook2</div>
<div class="line">    numProblems()</div>
<div class="line">        the number of Assignments in this AssignmentNotebook</div>
<div class="line"> </div>
<div class="line">    numTests()</div>
<div class="line">        How many pure TEST Assignments we have</div>
<div class="line"> </div>
<div class="line">    extractResult()</div>
<div class="line">        Extracts the result of a graded notebook</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md76"></a>
class Assignment()</h2>
<div class="fragment"><div class="line">Represents a problem (or Assignment) in an AssignmentNotebook</div>
<div class="line"> </div>
<div class="line">    Parameters</div>
<div class="line">    ----------</div>
<div class="line">    PROBLEM_Cells : [dict]</div>
<div class="line">        This is the list of all notebook cells that has the tag PROBLEM.</div>
<div class="line">        This is the problem description and solution skeleton.</div>
<div class="line">    SOLUTION_Cells : [dict]</div>
<div class="line">        This is the list of all notebook cells that has the tag SOLUTION.</div>
<div class="line">        These are the proposed solution cells.</div>
<div class="line">    Test_Cells : [dict]</div>
<div class="line">        This is the list of all notebook cells that has the tag Test. These</div>
<div class="line">        are the self tests (local tests)</div>
<div class="line">    TEST_Cells : [dict]</div>
<div class="line">        This is the list of all notebook cells that has the tag TEST.</div>
<div class="line">        These are the final tests for the assignment, there should actually only</div>
<div class="line">        be one.</div>
<div class="line"> </div>
<div class="line">    Methods</div>
<div class="line">    -------</div>
<div class="line">    amITEST()</div>
<div class="line">        returns if this is a TEST only assignment. I.e. there are no</div>
<div class="line">        problem, solution, Test cells but only TEST cells.</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
